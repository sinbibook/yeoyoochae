name: CI

on:
  pull_request:
    branches: [ main ]
  push:
    branches: [ main ]

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout code
      uses: actions/checkout@v4

    - name: Check JavaScript syntax
      run: |
        echo "ðŸ” Checking JavaScript files..."
        if find . -path ./node_modules -prune -o -name "*.js" -type f -print | grep -q .; then
          find . -path ./node_modules -prune -o -name "*.js" -type f -print -exec node -c {} \;
          echo "âœ… JavaScript syntax OK"
        else
          echo "âš ï¸ No JavaScript files found"
        fi

    - name: Validate HTML structure
      run: |
        echo "ðŸ” Checking HTML files..."
        if [ -f "index.html" ]; then
          echo "âœ… index.html found"
        else
          echo "âŒ index.html not found"
          exit 1
        fi

        # HTML íŒŒì¼ ëª©ë¡ ì¶œë ¥
        echo "ðŸ“„ HTML files in project:"
        find . -name "*.html" -type f | while read file; do
          echo "  - $file"
        done

    - name: Check CSS files
      run: |
        echo "ðŸ” Checking CSS files..."
        if find . -name "*.css" -type f | grep -q .; then
          echo "ðŸ“„ CSS files found:"
          find . -name "*.css" -type f | while read file; do
            echo "  - $file"
          done
          echo "âœ… CSS files present"
        else
          echo "âš ï¸ No CSS files found"
        fi

    - name: Project structure check
      run: |
        echo "ðŸ“¦ Project structure:"
        echo "â”œâ”€â”€ HTML files: $(find . -name '*.html' -type f | wc -l)"
        echo "â”œâ”€â”€ JavaScript files: $(find . -name '*.js' -type f | wc -l)"
        echo "â”œâ”€â”€ CSS files: $(find . -name '*.css' -type f | wc -l)"
        echo "â””â”€â”€ Image files: $(find ./images -type f 2>/dev/null | wc -l || echo 0)"
